<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>Living Room Sound Mixer</title>
<style>
Â  :root { --W: 1536; --H: 1024; }

Â  body {
Â  Â  margin: 0;
Â  Â  background:#111;
Â  Â  display:grid;
Â  Â  place-items:center;
Â  Â  height:100vh;
Â  Â  overflow:hidden;
Â  }
Â  #stage {
Â  Â  position: relative;
Â  Â  width: var(--W)px;
Â  Â  height: var(--H)px;
Â  Â  transform-origin: top left;
Â  }
Â  #bg {
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  display: block;
Â  }
Â Â 
Â  .obj {
Â  Â  position:absolute; cursor:pointer;
Â  Â  transition: transform .15s ease;
Â  }
Â  .obj:hover { transform: scale(1.04); }
Â  #music:hover { transform: scale(1.08); }
Â  #music { transform-origin: center bottom; }

Â  .note {
Â  Â  position: absolute;
Â  Â  font-size: 24px;
Â  Â  color: #ff69b4;
Â  Â  animation: floatUp 2s ease-out forwards;
Â  Â  pointer-events: none;
Â  }

Â  @keyframes floatUp {
Â  Â  0%Â  Â { transform: translateY(0) scale(1); opacity: 1; }
Â  Â  100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
Â  }
</style>
</head>
<body>

Â  <div id="stage">
Â  Â  <img id="bg" src="interior.png" alt="background" />

Â  Â  <img id="tv" class="obj" src="tv.png" alt="tv" />
Â  Â  <img id="fire" class="obj" src="fire.png" alt="fireplace" />
Â  Â  <img id="music" class="obj" src="music.png" alt="turntable" />
Â  Â  <img id="window" class="obj" src="window.png" alt="window" />
Â  </div>

Â  <audio id="audio-tv" src="tv.mp3"></audio>
Â  <audio id="audio-fire" src="fire.mp3"></audio>
Â  <audio id="audio-music" src="music.mp3"></audio>
Â  <audio id="audio-window" src="window.mp3"></audio>

<script>
Â  function place(id, cx, cy) {
Â  Â  const el = document.getElementById(id);
Â  Â  const w = el.naturalWidth;
Â  Â  const h = el.naturalHeight;
Â  Â  el.style.left = (cx - w/2) + 'px';
Â  Â  el.style.top = (cy - h/2) + 'px';
Â  }
Â  
Â  window.onload = function() {
Â  Â  place('tv', 831, 70);
Â  Â  place('fire', 773, 480);
Â  Â  place('music', 607, 568);
Â  Â  place('window', 0, 0);

Â  Â  fit();
Â  };

Â  function togglePlay(id){
Â  Â  const a = document.getElementById(id);
Â  Â  if (a.paused) a.play(); else { a.pause(); a.currentTime = 0; }
Â  }
Â  document.getElementById('tv').onclick = () => togglePlay('audio-tv');
Â  document.getElementById('fire').onclick = () => togglePlay('audio-fire');
Â  document.getElementById('music').onclick = () => togglePlay('audio-music');
Â  document.getElementById('window').onclick = () => togglePlay('audio-window');

Â  function fit() {
Â  Â  const W = 1536, H = 1024;
Â  Â  const s = Math.min(window.innerWidth / W, window.innerHeight / H);
Â  Â  document.getElementById('stage').style.transform = `scale(${s})`;
Â  }
Â  window.addEventListener('resize', fit);

Â  function togglePlayWithImage(id, audioId, activeImg, defaultImg) {
Â  Â  const audio = document.getElementById(audioId);
Â  Â  const el = document.getElementById(id);

Â  Â  if (audio.paused) {
Â  Â  Â  audio.play();
Â  Â  Â  el.src = activeImg;

Â  Â  Â  audio.onended = () => {
Â  Â  Â  Â  el.src = defaultImg;
Â  Â  Â  };
Â  Â  } else {
Â  Â  Â  audio.pause();
Â  Â  Â  audio.currentTime = 0;
Â  Â  Â  el.src = defaultImg;
Â  Â  }
Â  }

Â  document.getElementById('tv').onclick = () =>
Â  Â  togglePlayWithImage('tv', 'audio-tv', 'tv.gif', 'tv.png');

Â  document.getElementById('fire').onclick = () =>
Â  Â  togglePlayWithImage('fire', 'audio-fire', 'fire_active.png', 'fire.png');

Â  document.getElementById('window').onclick = () =>
Â  Â  togglePlayWithImage('window', 'audio-window', 'window_active.png', 'window.png');

Â  document.getElementById('fire').onclick = () =>
Â  Â  togglePlayWithImage('fire', 'audio-fire', 'fire_active.png', 'fire.png');

Â  function togglePlay(id){
Â  Â  const a = document.getElementById(id);
Â  Â  if (a.paused) a.play();
Â  Â  else { a.pause(); a.currentTime = 0; }
Â  }

Â  let noteInterval = null;

Â  function toggleMusicWithNotes(id, audioId) {
Â  Â  const audio = document.getElementById(audioId);
Â  Â  const el = document.getElementById(id);

Â  Â  if (audio.paused) {
Â  Â  Â  audio.play();

Â  Â  Â  // ì¼ì • ê°„ê²©ìœ¼ë¡œ ìŒí‘œ ìƒì„±
Â  Â  Â  noteInterval = setInterval(() => {
Â  Â  Â  Â  createNote(el);
Â  Â  Â  }, 500);

Â  Â  Â  audio.onended = () => {
Â  Â  Â  Â  clearInterval(noteInterval);
Â  Â  Â  };

Â  Â  } else {
Â  Â  Â  audio.pause();
Â  Â  Â  audio.currentTime = 0;
Â  Â  Â  clearInterval(noteInterval);
Â  Â  }
Â  }

Â  function createNote(targetEl) {
Â  Â  const note = document.createElement("div");
Â  Â  note.className = "note";
Â  Â  note.innerText = Math.random() > 0.8 ? "ðŸŽµ" : "ðŸŽ¶";

Â  Â  const rect = targetEl.getBoundingClientRect();
Â  Â  note.style.left = rect.left + rect.width/2 + (Math.random()*40-20) + "px";
Â  Â  note.style.top = rect.top + "px";

Â  Â  document.body.appendChild(note);

Â  Â  setTimeout(() => {
Â  Â  Â  note.remove();
Â  Â  }, 1500);
Â  }

Â  document.getElementById('music').onclick = () =>
Â  Â  toggleMusicWithNotes('music', 'audio-music');

Â  document.getElementById('audio-tv').volume = 0.4;
Â  document.getElementById('audio-fire').volume = 0.8;
Â  document.getElementById('audio-music').volume = 0.4;
Â  document.getElementById('audio-window').volume = 1.0;
</script>
</body>
</html>
